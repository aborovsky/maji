#!/bin/bash
source "$(dirname ${BASH_SOURCE[0]})/_functions"
PROJECT=$(basename $(pwd))
echo "Setting up $PROJECT"

if [[ "$OSTYPE" == "darwin"* ]]; then
  npm_package_available 'ios-deploy@1.9.0' || npm install 'ios-deploy@1.9.0'
  npm_package_available 'ios-sim@5.0.12' || npm install 'ios-sim@5.0.12'
fi

npm install
bundle install

if [ -d .git ]; then
  echo 'Setting up git hooks...'
  for h in hooks/*; do ln -sf ../../$h .git/hooks/$(basename $h); done
fi

echo -n 'Setup finished. '
